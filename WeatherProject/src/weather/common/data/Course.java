  package weather.common.data;

import java.io.Serializable;
import java.sql.Timestamp;
import java.text.SimpleDateFormat;

/**
 * This class represents a course. Each <code>Course</code> has a courseNumber
 * that uniquely identifies it.  This number is auto generated by MySQL Server
 * when a record of a course is created in the courses table.  The courseNumber
 * is the primary key of the courses table. The classIdentifier field defines
 * a class in a university.  It is represented by an alphanumeric string.
 * The alpha part is a short name for the department this class is offered by
 * and the numeric part is the class number. For example, in Bloomsburg
 * University, Software Engineering course would have the following
 * classIdentifier: CompSci480.
 *
 * @author Bloomsburg University Software Engineering
 * @author Chad Hall (2008)
 * @author Mike Graboske (2008)
 * @author Ioulia Lee (2010)
 * @version Spring 2010
 */
public class Course implements Serializable{

    /**
     * Determines if a de-serialized file is compatible with this class.
     *
     * Not necessary to include in first version of the class, but included here
     * as a reminder of its importance. Maintainers must change this value if
     * and only if the new version of this class is not compatible with old
     * versions.
     *
     * @see <a href="http://java.sun.com/products/jdk/1.1/docs/guide
     * /serialization/spec/version.doc.html">Java specification for
     * serialization</a>
     */
    private static final long serialVersionUID = 1L;
    /**
     * The number of this course.
     * This number uniquely identifies instances of this class throughout the
     * program and in the database.  A value of -1 means that the number is not
     * yet specified.
     */
    private int courseNumber;
    /**
     * The name of this department.
     */
    private String departmentName;
    /**
     * The identifier of this class. It is represented by an alphanumeric string.
     */
    private String classIdentifier;
    /**
     * The section of this course.
     */
    private int section;
    /**
     * The name of this class.
     */
    private String className;
    /**
     * The semester this course is taught.
     */
    private SemesterType semester;
    /**
     * The year this course is taught in.
     */
    private int year;
    /**
     * The instructor who teaches this course.
     */
    private User instructor;
    /**
     * The date the course was created.
     */
    private Timestamp creationDate;

    /**
     * The default constructor for the course class creates a new instance of 
     * course and sets its default values. The courseNumber is set to -1 meaning
     * that this number is not yet specified.
     */
    public Course() {
        this.courseNumber = -1;
        this.departmentName = null;
        this.classIdentifier = null;
        this.section = 0;
        this.className = null;
        this.semester = SemesterType.Fall;
        this.year = 0;
        this.instructor = null;
        this.creationDate=null;
    }

    /**
     * The constructor of the Course class creates an instance of the Course
     * class and sets its values to those that are passed to it.
     *
     * @param courseNumber The number of the course
     * @param departmentName The department name of the course
     * @param classIdentifier The identifier of the class
     * @param section The section number of the course
     * @param className The name of the class
     * @param semester The semester this course is taught
     * @param year The year this course is taught in
     * @param instructor The instructor of the course
     */
    public Course(int courseNumber, String departmentName, String classIdentifier,
            int section, String className, SemesterType semester, int year,
            User instructor, Timestamp creationDate) {
        this.courseNumber = courseNumber;
        this.departmentName = departmentName;
        this.classIdentifier = classIdentifier;
        this.section = section;
        this.className = className;
        this.semester = semester;
        this.year = year;
        this.instructor = instructor;
        this.creationDate=creationDate;
    }

    /**
     * Returns the number of this course.
     *
     * @return The course number.
     */
    public int getCourseNumber() {
        return courseNumber;
    }

    /**
     * Assigns the number of this course.
     *
     * @param courseNumber The course number.
     */
    public void setCourseNumber(int courseNumber) {
        this.courseNumber = courseNumber;
    }

    /**
     * Returns the department name for this course.
     *
     * @return The department name.
     */
    public String getDepartmentName() {
        return departmentName;
    }

    /**
     * Assigns the department name for this course.
     *
     * @param departmentName The department name.
     */
    public void setDepartmentName(String departmentName) {
        this.departmentName = departmentName;
    }

    /**
     * Returns the class identifier of this course.
     *
     * @return The class identifier.
     */
    public String getClassIdentifier() {
        return classIdentifier;
    }

    /**
     * Assigns the class identifier of this course.
     *
     * @param classIdentifier The identifier of the class.
     */
    public void setClassIdentifier(String classIdentifier) {
        this.classIdentifier = classIdentifier;
    }

    /**
     * Returns the class name of the course.
     *
     * @return The class name.
     */
    public String getClassName() {
        return className;
    }

    /**
     * Assigns the class name of the course.
     *
     * @param className The class name.
     */
    public void setClassName(String className) {
        this.className = className;
    }

    /**
     * Returns the section number for this course.
     *
     * @return The section number for this course.
     */
    public int getSection() {
        return section;
    }

    /**
     * Assigns the section number for this course.
     *
     * @param section The course section.
     */
    public void setSection(int section) {
        this.section = section;
    }

    /**
     * Returns the semester for this course.
     *
     * @return The semester.
     */
    public SemesterType getSemester() {
        return semester;
    }

    /**
     * Assigns the semester for this course.
     *
     * @param semester The semester.
     */
    public void setSemester(SemesterType semester) {
        this.semester = semester;
    }

    /**
     * Returns the year for this course.
     *
     * @return The year.
     */
    public int getYear() {
        return year;
    }

    /**
     * Assigns the year for this course.
     *
     * @param year The year to set.
     */
    public void setYear(int year) {
        this.year = year;
    }

    /**
     * Returns the course instructor.
     *
     * @return The course instructor.
     */
    public User getInstructor() {
        return instructor;
    }

    /**
     * Assigns the instructor for this course.
     *
     * @param instructor The course instructor.
     */
    public void setInstructor(User instructor) {
        this.instructor = instructor;
    }

    /**
     * The date the course was created.
     *
     * @return The creation date.
     */
    public Timestamp getCreationDate() {
        return creationDate;
    }

    /**
     * Sets the creation date.
     *
     * @param creationDate The date a course was created.
     */
    public void setCreationDate(Timestamp creationDate) {
        this.creationDate = creationDate;
    }

    /**
     * Gets a String representation for the creation date of the course 
     * in the format "MM/dd/yyyy".
     * 
     * @return The creation date of the course as a String formatted as 
     * "MM/dd/yyyy".
     */
    public String getCreationDateInPrettyFormat()
    {
        return (new SimpleDateFormat("MM/dd/yyyy").format(creationDate));
    }

    /**
     * Returns the class name of this course.
     * 
     * @return The class name.
     */
    @Override
    public String toString() {
        return className + " (" + semester + " " + year + ")";
    }

    /**
     * Returns the course number representing the hash code of this object.
     * 
     * @return The number of this course.
     */
    @Override
    public int hashCode() {
        return courseNumber;
    }

    /**
     * Determines whether the given object is equal to this Course.
     *
     * @param obj The object to compare to this Course.
     * @return True if the given object is equal to this Course, false
     * otherwise.
     */
    @Override
    public boolean equals(Object obj) {
        if (obj == null) {
            return false;
        }
        if (getClass() != obj.getClass()) {
            return false;
        }
        final Course other = (Course) obj;
        if (this.courseNumber != other.courseNumber) {
            return false;
        }
        return true;
    }  
}
